<!-- This is final -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="icon" href="http://thetechnews.com/wp-content/uploads/2018/03/2_The-latest-Marvel-logo.jpg">
    <style>

    .background {
        background-image: url("https://img00.deviantart.net/be35/i/2015/235/5/2/spidey_vs_captain_america_by_darkuchihasharingan-d96t1d7.jpg");
        background-repeat: no-repeat;
        position: fixed;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        background-size: cover;
        background-position: center;
        overflow: hidden;
    }
    .container_fluid {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 100%;
        height: 100vh;
        background-color: transparent;
    }
    .index {
        display: flex;
        width: 500px;
        height: 220px;
        justify-content: center;
        border-radius: 20px 20px 20px 20px;
        font-size: 20px;
        padding: 10px;
        color: white;
        background-image: url("https://media.giphy.com/media/yse8MzKv61jlC/giphy.gif");
        background-size: 100%;
        background-repeat: no-repeat;
        transition: .2s;
        transition-timing-function: ease-in;
        z-index: 10;
    }
    .unbind:hover {
        background-image: url("https://media.giphy.com/media/fA6opG8tgo2KQ/giphy.gif");
        cursor: pointer;
        color: red;
        -webkit-text-stroke-color: white;
        -webkit-text-stroke-width: 1px;
        font-size: 40px;
        padding: 0px;
        width: 800px;
        height: 240px;
        background-size: 100%;
        font-weight: bolder;
        transition: .2s;
        transition-timing-function: ease-in;
    }
    .active {
        margin: auto;
        background-image: url('https://media.giphy.com/media/ne3xrYlWtQFtC/giphy.gif');
        background-size: 100% 100%;
        width: 100%;
        height: 100%;
        transition: linear 2.5s;
        color: white;
        font-size: 60px;
        font-weight: bolder;
        animation: textopacity 1s infinite;
    }
    @keyframes textopacity {
        0% {
            color: white;
        }
        50% {
            color: transparent;
        }
        100% {
            color: white;
        }
    }
    header {
        display: flex;
        position: absolute;
        right: 1%;
        top: 16.5%;
        width: fit-content;
        height: fit-content;
        background: transparent;
        flex-direction: column;
        align-items: flex-end;
    }
    .hero-toggle {
        display: flex;
        width: 50px;
        height: 50px;
        border-radius: 50px;
        transition: .2s;
        transition-timing-function: ease-in;
    }
    .hero-toggle:hover {
        width: 100px;
        height: 100px;
        transition: .2s;
        transition-timing-function: ease-in;
        z-index: 20;
    }
    .hero-toggle:active {
        transform: translate(10px, 10px);
    }
    #storm {
        background-size: 110%;
        background-image: url("images/storm.jpeg");
        background-repeat: no-repeat;
        background-position: center;
    }
    #thor {
        background-size: 125%;
        background-image: url("images/thorprofile.jpg");
        background-repeat: no-repeat;
        background-position: center;
    }
    #iceman {
        background-size: 100%;
        background-image: url("images/iceman.jpg");
        background-repeat: no-repeat;
    }
    #torch {
        background-size: 120%;
        background-image: url("images/torchprofile.jpg");
        background-repeat: no-repeat;
        background-position: center;
    }
    .fadeEffect:hover {
        color: white;
        animation: fadeMain 1.5s infinite;
    }
    @keyframes fadeMain {
        0%,100% { color: white; }
        50% { color: red; }
    }
    a.home {
        display: flex;
        width: 50px;
        height: 50px;
        background-image: url("images/home.png");
        background-size: 100%;
        background-repeat: no-repeat;
        background-color: white;
        border-radius: 50px;
        transition: .2s;
        transition-timing-function: ease-in;
    }
    a.home:hover {
        width: 65px;
        height: 65px;
        transition: .2s;
        transition-timing-function: ease-in;
    }
    a.fadeInAndOut:hover {
        background-color: white;
        animation-name: rotate;
        animation-duration: .8s;
        animation-iteration-count: infinite;
        animation-direction: alternate;
        transform-origin: 50% 0%;
        animation-timing-function: ease-in-out;
    }
    @keyframes rotate {
        0% {
            transform: rotate(20deg);
        }
        100% {
            transform: rotate(-20deg);
        }
    }
    a.home:active {
        animation: none;
        background-color: red;
    }   
    .blur {
        transition: all .7s ease;
        filter: blur(7px);
    }
    .transition {
        transition: all .7s ease;
    }
    .logo {
        display: inline-block;
        position: fixed;
        top: 8%;
        z-index: 10;
        background-image: url("images/main.png");
        background-position: center;
        background-repeat: no-repeat;
        background-size: contain;
        width: 70vw;
        height: 20vh;
    }

@media screen and (max-width: 768px) and (orientation: portrait), screen and (max-width: 1024px) and (orientation:  landscape) {
    .background {
        background-size: cover;
        background-position: center;
        overflow: hidden;
    }
    .index {
        width: 70%;
        height: 45%;
        border-radius: 50px;
        background-size: cover;
        background-position: left;
        text-align: center;
        padding: 5px 20px 5px 20px;
        font-size: 50px;
        animation-name: pendulum;
        animation-duration: 3s;
        animation-iteration-count: infinite;
        animation-direction: alternate;
        animation-timing-function: ease-in-out;
    }
    @keyframes pendulum {
        0% { 
            background-position: left;
            color: white;
             }
        25% { color: red; }
        50% { color: white; }
        75% { color: red; }
        100% {
            background-position: right; 
            color: white;
            }
    }
    .active {
        width: 100%;
        height: 100%;
        background-size: contain;
        background-position: center;
    }
}

@media screen and (max-width: 480px) and (orientation: portrait), screen and (max-width: 736px) and (orientation:  landscape) {
    .logo {
        top: 4%;
        width: 70vw;
        height: 30vh;
    }
    .index {
        width: 60%;
        height: 40%;
        border-radius: 50px;
        background-size: cover;
        background-position: left;
        text-align: center;
        font-size: 23px;
        padding: 10px;
        animation-name: pendulum;
        animation-duration: 3s;
        animation-iteration-count: infinite;
        animation-direction: alternate;
        animation-timing-function: ease-in-out;
    }
    @keyframes pendulum {
        0% { 
            background-position: left;
            color: white;
             }
        25% { color: red; }
        50% { color: white; }
        75% { color: red; }
        100% {
            background-position: right; 
            color: white;
            }
    }
    .active {
        width: 100%;
        height: 100%;
        background-size: contain;
        background-position: center;
    }
    @media screen and (max-width: 480px) and (orientation: portrait) {
        .active {
            width: 100%;
            height: 70%;
            background-size: contain;
            background-position: center;
        }
    }
}
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/blueimp-md5/2.5.0/js/md5.min.js"></script>
    <script>
$(document).ready(function () {
    localStorage.clear();
    $( ".index" ).hover(function() {
        $('.background, .logo, .hero-toggle, .home').removeClass("transition").addClass("blur");
    });
    $( ".index" ).mouseout(function() {
        $('.background, .logo, .hero-toggle, .home').addClass("transition").removeClass("blur");
    });
    $( ".hero-toggle, .home" ).hover(function() {
        $('.background, .logo, .index').removeClass("transition").addClass("blur");
    });
    $( ".hero-toggle, .home" ).mouseout(function() {
        $('.background, .logo, .index').addClass("transition").removeClass("blur");
    });
    var publickey = 'a054b45fb805b78dc23c2437a3780e43';
    var privatekey = '85a50e79c35f0189b869623a9a24c574a9918356';
    var ts = new Date().getTime();
    var stringToHash = ts + privatekey + publickey;
    var hash = md5(stringToHash);
    var baseUrl = 'https://gateway.marvel.com:443/v1/public/characters?name=Storm';
    var stormURL = baseUrl + '&ts=' + ts + '&apikey=' + publickey + '&hash=' + hash;
    $.getJSON( stormURL )
    .done(function( response ) {
        var stormURL = response.data.results[0].urls[1].url;
        var stormName = response.data.results[0].name;
        localStorage.setItem('stormURL', JSON.stringify(stormURL));
        localStorage.setItem('stormName', JSON.stringify(stormName));
        var publickey = 'a054b45fb805b78dc23c2437a3780e43';
        var privatekey = '85a50e79c35f0189b869623a9a24c574a9918356';
        var ts = new Date().getTime();
        var stringToHash = ts + privatekey + publickey;
        var hash = md5(stringToHash);
        var baseUrl = 'https://gateway.marvel.com:443/v1/public/characters?name=Iceman';
        var iceURL = baseUrl + '&ts=' + ts + '&apikey=' + publickey + '&hash=' + hash;
        $.getJSON( iceURL )
        .done(function( response ) {
            var iceURL = response.data.results[0].urls[1].url;
            var iceName = response.data.results[0].name;
            localStorage.setItem('iceURL', JSON.stringify(iceURL));
            localStorage.setItem('iceName', JSON.stringify(iceName));
            var publickey = 'a054b45fb805b78dc23c2437a3780e43';
            var privatekey = '85a50e79c35f0189b869623a9a24c574a9918356';
            var ts = new Date().getTime();
            var stringToHash = ts + privatekey + publickey;
            var hash = md5(stringToHash);
            var baseUrl = 'https://gateway.marvel.com:443/v1/public/characters?name=Thor';
            var thorURL = baseUrl + '&ts=' + ts + '&apikey=' + publickey + '&hash=' + hash;
            $.getJSON( thorURL )
            .done(function( response ) {
                var thorURL = response.data.results[0].urls[1].url;
                var thorName = response.data.results[0].name;
                localStorage.setItem('thorURL', JSON.stringify(thorURL));
                localStorage.setItem('thorName', JSON.stringify(thorName));
                var publickey = 'a054b45fb805b78dc23c2437a3780e43';
                var privatekey = '85a50e79c35f0189b869623a9a24c574a9918356';
                var ts = new Date().getTime();
                var stringToHash = ts + privatekey + publickey;
                var hash = md5(stringToHash);
                var baseUrl = 'https://gateway.marvel.com:443/v1/public/characters?name=human%20torch';
                var torchURL = baseUrl + '&ts=' + ts + '&apikey=' + publickey + '&hash=' + hash;
                $.getJSON( torchURL )
                .done(function( response ) {
                    var torchURL = response.data.results[0].urls[1].url;
                    var torchName = response.data.results[0].name;
                    localStorage.setItem('torchURL', JSON.stringify(torchURL));
                    localStorage.setItem('torchName', JSON.stringify(torchName));
                    const lat = (Math.floor(Math.random()*180) - 90);
                    const lon = (Math.floor(Math.random()*360) - 180);
                    $('.index').on('click', (e) => {
                        $(this).off('mouseout');
                        $('.index').removeClass('unbind').removeClass('fadeEffect').addClass('active').html('CALCULATING...');
                        setTimeout(function () {
                            const weatherURL = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=2f4580c1da2a1471787ee4c356181fd1`;
                            $.getJSON ( weatherURL )
                            .done(function( response ) {
                                var location = `${response.name}, ${response.sys.country}`;
                                var coordinates = `Latitude: ${response.coord.lat}, Longitude: ${response.coord.lon}`;
                                var fartemp = Math.round(((response.main.temp - 273.15) * (9/5)) + 32);
                                var temperature = `${fartemp}°F`;
                                var conditions = `${response.weather[0].main}`;
                                localStorage.setItem('location', JSON.stringify(location));
                                localStorage.setItem('coordinates', JSON.stringify(coordinates));
                                localStorage.setItem('temperature', JSON.stringify(temperature));
                                localStorage.setItem('conditions', JSON.stringify(conditions));
                                if (conditions === 'Rain'||conditions === 'Clouds') {
                                    window.location.href="storm.html";
                                } else if (conditions === 'Snow') {
                                    window.location.href="iceman.html";
                                } else if (conditions === 'Thunderstorm') {
                                    window.location.href="thor.html";
                                } else {
                                    window.location.href="torch.html";
                                }
                            });
                        }, 2800);
                    });
                });
            });
        });
    });
});
    </script>
    <title>Random Hero + Weather Generator</title>
</head>
<body>
<div class="background"></div>
<div class="container_fluid">
    <header>
    <a class="home fadeInAndOut" href="index.html"></a>
    <a href="iceman.html" class="hero-toggle" id="iceman"></a>
    <a href="storm.html" class="hero-toggle" id="storm"></a>
    <a href="thor.html" class="hero-toggle" id="thor"></a>
    <a href="torch.html" class="hero-toggle" id="torch"></a>
    </header>
<div class="logo">
    <!-- <img src=""> -->
</div>
<a class="index unbind fadeEffect" type="button">Check the Weather Around the World</a>
</div>
</body>
</html>